<!-- <div *ngIf="User">
    <nav class="navbar navbar-light bg-light" >
        <a routerLink="/" class="navbar-brand">IOT HUB</a>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a href="#" class="nav-link ">
                    <i class="fas fa-user"></i> Welcome {{User}}
                </a>
            </li>
            <li class="nav-item">
                <a  href="#" (click)="logout()" class="nav-link">
                    <i class="fas fa-user-times"></i> Logout
                </a> 
            </li>
        </ul>
    </nav> 
    <div style="display: flex; margin-top: 30px;">
        <div id="side-div"></div>
        
        <div>
    
            <form  #f="ngForm"  (ngSubmit)="OnSubmit(f)">
                <div class="form-group">
                    <label for="things">Enter number of things</label>
                    <input type="number" ngModel name="Things" #Things="ngModel"  class="form-control form-control-lg" placeholder="Enter Number of things" required>
                    <div *ngIf="Things.touched && Things.invalid" class="text-danger">Enter number of things</div>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
                <div *ngIf="response" class="alert alert-success" role="alert">
                    {{User}} has registered {{no_of_things}} devices successfully 
                </div>
            </form>
        </div>
    </div>  
</div> -->

<div *ngIf="User">
    <nav class="navbar navbar-dark bg-dark" >
        <h1 style="color: white;">Car Registration</h1>
        <a  href="#" (click)="logout()" class="nav-link">
            <i class="fas fa-user-times"></i> Logout
        </a> 
    </nav> 
    
    <div style="display: flex; margin-top: 30px;">
        <div id="side-div"></div>
        
        <div>
            <div id="inner-div">
                <form #userForm="ngForm" (ngSubmit)="OnSubmit(userForm)">
    
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                        <label class="input-group-text" for="inputGroupSelect01">Car Model</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect01" ngModel name ="carName" #carName="ngModel" >
                        <option value="maruti"selected>Maruti</option>
                        <option value="tata">Tata</option>
                        <option value="honda">Honda</option>
                        <option value="fiat">Fiat</option>
                        </select>
                    </div>
    
                    <div class="input-group mb-3 , form-group">
                        <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">Car Unique ID</span>
                        </div>
                        <input type="text" class="form-control" placeholder="Car ID" aria-label="Username" aria-describedby="basic-addon1" ngModel name="carId" #carId="ngModel" required >
                        <div *ngIf="carId.touched && carId.invalid" class="text-danger">Car ID is Required</div>
                    </div>
                    
                    
                    <button [disabled] = "userForm.form.invalid" class="btn btn-primary" type="submit">Submit</button>
                    
                </form>
    
                <div *ngIf="all_things">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">Car ID</th>
                            <th scope="col">Car Name</th>
                            <th scope="col">Status</th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let thing of all_things; let i=index" >
                                <td *ngIf="thing[4] === User">{{thing[2]}}</td>
                                <td *ngIf="thing[4] === User">{{thing[1]}}</td>
                                <td *ngIf="thing[4] === User">{{thing[0]!=1?"Pending":"Complete"}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>        
</div>


